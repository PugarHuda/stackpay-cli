# {{projectName}}

> API powered by StackPay - monetized with Bitcoin micropayments on Stacks

Built with the [x402-stacks](https://docs.x402stacks.xyz/) payment protocol.

## ğŸš€ Quick Start

```bash
# Install dependencies
npm install

# Configure your payment address
stackpay config --address <YOUR_STX_ADDRESS>

# Start the server
npm start
```

Your API will be running at `http://localhost:3000`

## ğŸ’° How It Works

This API uses the **x402 payment protocol** to require Bitcoin micropayments before serving responses.

### Payment Flow

1. Client makes a request to `/api/*` endpoint
2. Server returns **HTTP 402 Payment Required** with payment instructions
3. Client sends STX payment on Stacks blockchain
4. Client includes transaction ID in `X-Payment-Proof` header
5. Server verifies payment on-chain
6. Server returns the API response

### Example Request

```bash
# Without payment - returns 402
curl http://localhost:3000/api/data

# With payment proof
curl -H "X-Payment-Proof: 0x1234..." http://localhost:3000/api/data
```

## ğŸ“ Configuration

Edit `stackpay.config.json`:

```json
{
  "projectName": "{{projectName}}",
  "price": 0.01,
  "currency": "STX",
  "paymentAddress": "SP2J6ZY...",
  "network": "testnet"
}
```

Or use the CLI:

```bash
stackpay config --price 0.01 --currency STX --address SP2J6ZY...
```

## ğŸ”§ API Endpoints

### Free Endpoints

- `GET /` - API info
- `GET /health` - Health check
- `GET /docs` - API documentation

### Paid Endpoints (require payment)

- `GET /api/data` - Your monetized API endpoint

## ğŸ“Š Monitor Revenue

View your revenue and transactions in the StackPay dashboard:

```bash
stackpay status
```

## ğŸ” Security

- Payment verification happens on-chain via Stacks API
- Transaction IDs are tracked to prevent replay attacks
- All payments are settled on Bitcoin via Stacks Layer 2

## ğŸ“š Resources

- [x402-stacks Documentation](https://docs.x402stacks.xyz/)
- [Stacks Documentation](https://docs.stacks.co)
- [StackPay GitHub](https://github.com/stackpay)

## ğŸ“„ License

MIT
